<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>M24LC256: M24LC256 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">M24LC256&#160;<span id="projectnumber">v1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>M24LC256 Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="M24LC256" -->
<p>Driver for Microchip 24LC256 EEPROM.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="M24LC256_8h_source.html">M24LC256.h</a>&gt;</code></p>

<p><a href="classM24LC256-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classM24LC256.html#aaeab73c2efdccae25f55982d891ca2c6">M24LC256</a> (uint8_t _address)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#aaeab73c2efdccae25f55982d891ca2c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classM24LC256.html#a85085de7a16ca547e5aebd8b7e732f4f">begin</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup &amp; prepare.  <a href="#a85085de7a16ca547e5aebd8b7e732f4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classM24LC256.html#ae8032c04c209800ea81ca0028e53cd44">write</a> (uint16_t location, void *buf, uint16_t len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to any location on the chip.  <a href="#ae8032c04c209800ea81ca0028e53cd44"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classM24LC256.html#a85b734e0712c9f77c92f865e19aa7d84">read</a> (uint16_t location, void *buf, uint16_t len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from any location on the chip.  <a href="#a85b734e0712c9f77c92f865e19aa7d84"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Internals</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Protected methods that address the chip directly. </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classM24LC256.html#a863f5acce94696cf1ec1a9a16a9ac5c8">WriteChunk</a> (uint16_t location, uint16_t length, uint8_t *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a small chunk of data directly to the chip.  <a href="#a863f5acce94696cf1ec1a9a16a9ac5c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classM24LC256.html#a1ecca8b860fd05e281f10906dbbfaa41">ReadChunk</a> (uint16_t location, uint16_t length, uint8_t *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a small chunk of data directly from the chip.  <a href="#a1ecca8b860fd05e281f10906dbbfaa41"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7554d1748d7b727b8f2069462f1117fd"></a><!-- doxytag: member="M24LC256::i2c_address" ref="a7554d1748d7b727b8f2069462f1117fd" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classM24LC256.html#a7554d1748d7b727b8f2069462f1117fd">i2c_address</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The 7-bit address of the particular device we're driving on the I2C bus. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Driver for Microchip 24LC256 EEPROM. </p>
<p>Create one instance of this class for each chip in your circuit. This allows you to have up to 8 of these active at any time.</p>
<p>This class is optimized to take advantage of the page size of the chip. The chip has a 5msec write cycle now matter how many bytes you push it, up to its page size (64 bytes for 24LC256. To get higher throughput, increase the size of the Wire buffer by increasing BUFFER_LENGTH in Wire.h and TWI_BUFFER_LENGTH in utility/twi.h. Increase them to 34 for 32-byte writes, and to 66 for 64-byte writes. Be warned that these buffers suck up your memory, so be careful! </p>
<dl><dt><b>Examples: </b></dt><dd>
<p><a class="el" href="readwrite_8pde-example.html#_a0">readwrite.pde</a>.</p>
</dd>
</dl></div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aaeab73c2efdccae25f55982d891ca2c6"></a><!-- doxytag: member="M24LC256::M24LC256" ref="aaeab73c2efdccae25f55982d891ca2c6" args="(uint8_t _address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M24LC256::M24LC256 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>_address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_address</td><td>the low 3 bits of the address for the chip being addressed. This should correspond to the A0-A2 pins. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a85085de7a16ca547e5aebd8b7e732f4f"></a><!-- doxytag: member="M24LC256::begin" ref="a85085de7a16ca547e5aebd8b7e732f4f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M24LC256::begin </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Setup &amp; prepare. </p>
<p>Call this function from within the setup() function of your sketch, AFTER Wire.begin().</p>
<p>Note that this function currently does nothing, but is included for forward compatability. Someday something may be needed here. </p>

</div>
</div>
<a class="anchor" id="a85b734e0712c9f77c92f865e19aa7d84"></a><!-- doxytag: member="M24LC256::read" ref="a85b734e0712c9f77c92f865e19aa7d84" args="(uint16_t location, void *buf, uint16_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t M24LC256::read </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from any location on the chip. </p>
<p>This function is not constrained by the size or location of data. Write what you want, where you want.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This will not read beyond the top of the address space of the chip. (0x8000). If you attempt to read beyond the upper limit, only the amount found before the memory limit is read. Check the return value for actual number of bytes read.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The chip address where to read the data </td></tr>
    <tr><td class="paramname">buf</td><td>The in-memory location of where to place the data </td></tr>
    <tr><td class="paramname">len</td><td>The maximum number of bytes desired to be read</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes read from the chip </dd></dl>

</div>
</div>
<a class="anchor" id="a1ecca8b860fd05e281f10906dbbfaa41"></a><!-- doxytag: member="M24LC256::ReadChunk" ref="a1ecca8b860fd05e281f10906dbbfaa41" args="(uint16_t location, uint16_t length, uint8_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t M24LC256::ReadChunk </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads a small chunk of data directly from the chip. </p>
<p>Only 16 bytes maximum are read at a time. Less bytes are read if <code>location</code> is not on an even 16-byte boundary.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The chip address where to read the data </td></tr>
    <tr><td class="paramname">length</td><td>The maximum number of bytes desired to be read </td></tr>
    <tr><td class="paramname">data</td><td>The in-memory location of where to place the data</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes read from the chip </dd></dl>

</div>
</div>
<a class="anchor" id="ae8032c04c209800ea81ca0028e53cd44"></a><!-- doxytag: member="M24LC256::write" ref="ae8032c04c209800ea81ca0028e53cd44" args="(uint16_t location, void *buf, uint16_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M24LC256::write </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data to any location on the chip. </p>
<p>This function is not constrained by the size or location of data. Write what you want, where you want.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This will not write beyond the top of the address space of the chip. (0x8000). If you attempt to write beyond the upper limit, only the amount which fits within the memory limit is written, the rest is ignored.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The chip address where to write the data </td></tr>
    <tr><td class="paramname">buf</td><td>The in-memory location of where to look for the data </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes to be written </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a863f5acce94696cf1ec1a9a16a9ac5c8"></a><!-- doxytag: member="M24LC256::WriteChunk" ref="a863f5acce94696cf1ec1a9a16a9ac5c8" args="(uint16_t location, uint16_t length, uint8_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t M24LC256::WriteChunk </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes a small chunk of data directly to the chip. </p>
<p>Only 16 bytes maximum are written at a time. Less bytes are written if <code>location</code> is not on an even 16-byte boundary.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The chip address where to write the data </td></tr>
    <tr><td class="paramname">length</td><td>The number of bytes available to be written </td></tr>
    <tr><td class="paramname">data</td><td>The in-memory location to find the data</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes written to the chip </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="M24LC256_8h_source.html">M24LC256.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Apr 3 2011 20:45:56 for M24LC256 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
